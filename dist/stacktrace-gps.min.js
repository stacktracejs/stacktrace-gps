!function(e,t){"use strict";"function"==typeof define&&define.amd?define("stackframe",[],t):"object"==typeof exports?module.exports=t():e.StackFrame=t()}(this,function(){"use strict";function e(e){return!isNaN(parseFloat(e))&&isFinite(e)}function t(e){return e.charAt(0).toUpperCase()+e.substring(1)}function n(e){return function(){return this[e]}}function r(e){if(e instanceof Object)for(var n=0;n<a.length;n++)e.hasOwnProperty(a[n])&&void 0!==e[a[n]]&&this["set"+t(a[n])](e[a[n]])}var i=["isConstructor","isEval","isNative","isToplevel"],o=["columnNumber","lineNumber"],s=["fileName","functionName","source"],u=["args"],a=i.concat(o,s,u);r.prototype={getArgs:function(){return this.args},setArgs:function(e){if("[object Array]"!==Object.prototype.toString.call(e))throw new TypeError("Args must be an Array");this.args=e},getEvalOrigin:function(){return this.evalOrigin},setEvalOrigin:function(e){if(e instanceof r)this.evalOrigin=e;else{if(!(e instanceof Object))throw new TypeError("Eval Origin must be an Object or StackFrame");this.evalOrigin=new r(e)}},toString:function(){var e=this.getFileName()||"",t=this.getLineNumber()||"",n=this.getColumnNumber()||"",r=this.getFunctionName()||"";return this.getIsEval()?e?"[eval] ("+e+":"+t+":"+n+")":"[eval]:"+t+":"+n:r?r+" ("+e+":"+t+":"+n+")":e+":"+t+":"+n}},r.fromString=function(e){var t=e.indexOf("("),n=e.lastIndexOf(")"),i=e.substring(0,t),o=e.substring(t+1,n).split(","),s=e.substring(n+1);if(0===s.indexOf("@"))var u=/@(.+?)(?::(\d+))?(?::(\d+))?$/.exec(s,""),a=u[1],c=u[2],f=u[3];return new r({functionName:i,args:o||void 0,fileName:a,lineNumber:c||void 0,columnNumber:f||void 0})};for(var c=0;c<i.length;c++)r.prototype["get"+t(i[c])]=n(i[c]),r.prototype["set"+t(i[c])]=function(e){return function(t){this[e]=Boolean(t)}}(i[c]);for(var f=0;f<o.length;f++)r.prototype["get"+t(o[f])]=n(o[f]),r.prototype["set"+t(o[f])]=function(t){return function(n){if(!e(n))throw new TypeError(t+" must be a Number");this[t]=Number(n)}}(o[f]);for(var m=0;m<s.length;m++)r.prototype["get"+t(s[m])]=n(s[m]),r.prototype["set"+t(s[m])]=function(e){return function(t){this[e]=String(t)}}(s[m]);return r}),function(e,t){"use strict";"function"==typeof define&&define.amd?define("stacktrace-gps",["source-map","stackframe"],t):"object"==typeof exports?module.exports=t(require("source-map/lib/source-map-consumer"),require("stackframe")):e.StackTraceGPS=t(e.SourceMap||e.sourceMap,e.StackFrame)}(this,function(e,t){"use strict";function n(e){return new Promise(function(t,n){var r=new XMLHttpRequest;r.open("get",e),r.onerror=n,r.onreadystatechange=function(){4===r.readyState&&(r.status>=200&&r.status<300||"file://"===e.substr(0,7)&&r.responseText?t(r.responseText):n(new Error("HTTP status: "+r.status+" retrieving "+e)))},r.send()})}function r(e){if("undefined"!=typeof window&&window.atob)return window.atob(e);throw new Error("You must supply a polyfill for window.atob in this environment")}function i(e){if("undefined"!=typeof JSON&&JSON.parse)return JSON.parse(e);throw new Error("You must supply a polyfill for JSON.parse in this environment")}function o(e,t){for(var n=[/['"]?([$_A-Za-z][$_A-Za-z0-9]*)['"]?\s*[:=]\s*function\b/,/function\s+([^('"`]*?)\s*\(([^)]*)\)/,/['"]?([$_A-Za-z][$_A-Za-z0-9]*)['"]?\s*[:=]\s*(?:eval|new Function)\b/,/\b(?!(?:if|for|switch|while|with|catch)\b)(?:(?:static)\s+)?(\S+)\s*\(.*?\)\s*\{/,/['"]?([$_A-Za-z][$_A-Za-z0-9]*)['"]?\s*[:=]\s*\(.*?\)\s*=>/],r=e.split("\n"),i="",o=Math.min(t,20),s=0;s<o;++s){var u=r[t-s-1],a=u.indexOf("//");if(a>=0&&(u=u.substr(0,a)),u){i=u+i;for(var c=n.length,f=0;f<c;f++){var m=n[f].exec(i);if(m&&m[1])return m[1]}}}}function s(){if("function"!=typeof Object.defineProperty||"function"!=typeof Object.create)throw new Error("Unable to consume source maps in older browsers")}function u(e){if("object"!=typeof e)throw new TypeError("Given StackFrame is not an object");if("string"!=typeof e.fileName)throw new TypeError("Given file name is not a String");if("number"!=typeof e.lineNumber||e.lineNumber%1!==0||e.lineNumber<1)throw new TypeError("Given line number must be a positive integer");if("number"!=typeof e.columnNumber||e.columnNumber%1!==0||e.columnNumber<0)throw new TypeError("Given column number must be a non-negative integer");return!0}function a(e){for(var t,n,r=/\/\/[#@] ?sourceMappingURL=([^\s'"]+)\s*$/gm;n=r.exec(e);)t=n[1];if(t)return t;throw new Error("sourceMappingURL not found")}function c(e,n,r){return new Promise(function(i,o){var s=n.originalPositionFor({line:e.lineNumber,column:e.columnNumber});if(s.source){var u=n.sourceContentFor(s.source);u&&(r[s.source]=u),i(new t({functionName:s.name||e.functionName,args:e.args,fileName:s.source,lineNumber:s.line,columnNumber:s.column}))}else o(new Error("Could not get original source for given stackframe and source map"))})}return function f(m){return this instanceof f?(m=m||{},this.sourceCache=m.sourceCache||{},this.sourceMapConsumerCache=m.sourceMapConsumerCache||{},this.ajax=m.ajax||n,this._atob=m.atob||r,this._get=function(e){return new Promise(function(t,n){var r="data:"===e.substr(0,5);if(this.sourceCache[e])t(this.sourceCache[e]);else if(m.offline&&!r)n(new Error("Cannot make network requests in offline mode"));else if(r){var i=/^data:application\/json;([\w=:"-]+;)*base64,/,o=e.match(i);if(o){var s=o[0].length,u=e.substr(s),a=this._atob(u);this.sourceCache[e]=a,t(a)}else n(new Error("The encoding of the inline sourcemap is not supported"))}else{var c=this.ajax(e,{method:"get"});this.sourceCache[e]=c,c.then(t,n)}}.bind(this))},this._getSourceMapConsumer=function(t,n){return new Promise(function(r,o){if(this.sourceMapConsumerCache[t])r(this.sourceMapConsumerCache[t]);else{var s=new Promise(function(r,o){return this._get(t).then(function(t){"string"==typeof t&&(t=i(t.replace(/^\)\]\}'/,""))),"undefined"==typeof t.sourceRoot&&(t.sourceRoot=n),r(new e.SourceMapConsumer(t))},o)}.bind(this));this.sourceMapConsumerCache[t]=s,r(s)}}.bind(this))},this.pinpoint=function(e){return new Promise(function(t,n){this.getMappedLocation(e).then(function(e){function n(){t(e)}this.findFunctionName(e).then(t,n)["catch"](n)}.bind(this),n)}.bind(this))},this.findFunctionName=function(e){return new Promise(function(n,r){u(e),this._get(e.fileName).then(function(r){var i=e.lineNumber,s=e.columnNumber,u=o(r,i,s);n(u?new t({functionName:u,args:e.args,fileName:e.fileName,lineNumber:i,columnNumber:s}):e)},r)["catch"](r)}.bind(this))},void(this.getMappedLocation=function(e){return new Promise(function(t,n){s(),u(e);var r=this.sourceCache,i=e.fileName;this._get(i).then(function(n){var o=a(n),s="data:"===o.substr(0,5),u=i.substring(0,i.lastIndexOf("/")+1);return"/"===o[0]||s||/^https?:\/\/|^\/\//i.test(o)||(o=u+o),this._getSourceMapConsumer(o,u).then(function(n){return c(e,n,r).then(t)["catch"](function(){t(e)})})}.bind(this),n)["catch"](n)}.bind(this))})):new f(m)}});
//# sourceMappingURL=stacktrace-gps.min.js.map
